<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="Andreas Åkre Solberg">
	<link rel="shortcut icon" href="bower_components/uninett-theme/ico/favicon.ico">
	<title>HTTPjs – UNINETT</title>

	<!-- Bootstrap core CSS -->
	<link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="bower_components/uninett-theme/css/uninett.css" rel="stylesheet">


	<link rel="stylesheet" href="bower_components/select2/select2.css">


	<link rel="stylesheet" href="bower_components/highlightjs/styles/default.css">

	<style type="text/css" media="screen">
		#editor { 
			position: relative;
			height: 600px;
			border: 1px solid #bbb;
			border-radius: 2px;
		}
		dt {
			margin-top: 1em;
		}
	</style>

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->
</head>

<body class="navbar-site">





	<!-- Fixed navbar -->
	<div class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
				<a class="navbar-brand" href="/"><img src="bower_components/uninett-theme/images/UNINETT_logo.svg" alt="Uninett logo" type="image/svg+xml"></a>
				
			</div>
			<div class="navbar-department">
				<div class="department"><a style="text-decoration: none; color: #000" href="/"><span style="font-style: thin">HTTP</span>js</a></div>
			</div>

			
		</div>
	</div>



	<div class="container">




		<div class="row gutter hideOnStart" style="">
			<div class="col-lg-12 "> 
				<div class="uninett-color-white uninett-padded ">


					<h1>API Reference</h1>
		

					<p>In the live editor where you implement your API, you are required to implement and return a javascript function.</p>
					<p>This function will be passed a transaction object, where you may retrieve details about the request, and pass contents of the response. When you're done dealing with the request, you must call the <tt>ready()</tt> function of the transaction object, in order for a response to be returned to the client.</p>

					<pre><code class="javascript">/*
 * Function to handle requests and prepare responses
 */
var process = function(transaction) {
	return transaction.setJSON({}).ready();
}
return process;
</code></pre>


					<h2>Generic information</h2>

					<p>The request object is available as <tt>transaction.req</tt>.</p>

					<dl>
						<dt><code>transaction.url</code></dt>
						<dd>The base URL of the server, such as <code>http://379.httpjs.net/</code>.</dd>

						<dt><code>transaction.hide()</code></dt>
						<dd>Do not show this transaction in the output above. In example use this for favicons and OPTIONS requests, if they clutter your debugging info.</dd>
					</dl>



					<h2>The request</h2>

					<p>The request object is available as <tt>transaction.req</tt>.</p>


					<dl>
						<dt><code>transaction.req.headers</code></dt>
						<dd>A indexed object containing the headers in the request.</dd>

						<dt><code>transaction.req.path</code></dt>
						<dd>The path of the request, including the query string if present</dd>

						<dt><code>transaction.req.url</code></dt>
						<dd>The path of the request, including the query string if present</dd>

						<dt><code>transaction.req.ip</code></dt>
						<dd>The IP address of the requesting client.</dd>

						<dt><code>transaction.req.method</code></dt>
						<dd>The HTTP method of the request, such as GET, PUT or POST.</dd>

						<dt><code>transaction.req.query</code></dt>
						<dd>An object representing the query string as parameters.</dd>

						<dt><code>transaction.req.body</code></dt>
						<dd>The parsed body of the request. If no body was included in the request, this property will be an 
						empty object. It is a parsed object, both if the real request body was encoded in JSON or as form-encoded. </dd>

						<dt><code>transaction.req.rawBody</code></dt>
						<dd>To be supported later. Stay tuned.</dd>


					</dl>

					<pre><code>t.req.headers</code></pre>




					<h2>Preparing the response</h2>


					<p>Most importantly remember to always call the <code>transaction.ready()</code> when completed. </p>

					<dl>



						<dt><code>transaction.setHeader(key, val)</code></dt>
						<dd>Set HTTP response header</dd>

						<dt><code>transaction.setBody(text, type)</code></dt>
						<dd>Set HTTP response body as a string. Optionally provide the content type as a second parameter.</dd>

						<dt><code>transaction.setJSON(obj)</code></dt>
						<dd>Set HTTP response by passing a JSON object. The Content-type, and JSON serialization will be handled automatically.</dd>

						<dt><code>transaction.setStatus(code)</code></dt>
						<dd>Set HTTP status code in the response..</dd>


						<dt><code>transaction.redirect(url)</code></dt>
						<dd>Redirect to a new URL. Will return 302 with HTML content.</dd>


						<dt><code>transaction.error(msg)</code></dt>
						<dd>Returns 500 Internal error witha HTML output with the included message.</dd>

						<dt><code>transaction.notFound()</code></dt>
						<dd>Returns 404 Not found.</dd>

					</dl>


				</div>
			</div>

		</div>




		<div class="row gutter">
			<div class="col-lg-12 "> 
				<!-- Main component for a primary marketing message or call to action -->
				<div class="uninett-color-white uninett-padded">
					<p style="margin-bottom: 0px; text-align: center"><a href="http://uninett.no">UNINETT</a> &#9829; HTTP</p>
					<p style="margin-bottom: 0px; text-align: center">We hope you find this tool useful. 
						For comments <a href="mailto:andreas.solberg@uninett.no">contact Andreas Åkre Solberg</a> or 
						<a target="_blank" href="https://github.com/andreassolberg/httpjs/issues">ask questions, request features or report issues</a>.</p>
				<!-- 	<p style="margin-bottom: 0px; text-align: center">Stay tuned. Later additions to this API testing tool may provide tools for OAuth 2.0 and OpenID Connect.</p> -->
				</div>
			</div>
		</div>

	</div>






	<!-- /container --> 

	<!-- Bootstrap core JavaScript --> 
	<!-- Placed at the end of the document so the pages load faster --> 
<!-- 	<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script> 
	<script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script> 
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>

	<script type="text/javascript" src="bower_components/ace-builds/src-noconflict/ace.js" charset="utf-8"></script>
 -->	

 	<script type="text/javascript" src="bower_components/highlightjs/highlight.pack.js"></script>
 	<script type="text/javascript">
 		hljs.initHighlightingOnLoad();
 	</script>
	<!-- <script type="text/javascript" src="bower_components/select2/select2.min.js"></script> -->

	<!-- <script type="text/javascript" src="bower_components/requirejs/require.js" data-main="js/main.js"></script> -->




</body>
</html>
